{
  "attributes": {
    "backgroundColor": "#ffffff",
    "backgroundColorBottom": "#ffffff",
    "backgroundColorTop": "#ffffff",
    "backgroundTextStyle": "dark",
    "enablePullDownRefresh": false,
    "navigationBarBackgroundColor": "#ffffff",
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "追剧",
    "navigationStyle": "default",
    "pageOrientation": "portrait",
    "reachBottomDistance": 50,
    "src": "",
    "title": "追剧"
  },
  "dataset": {
    "query": {
      "queryFollow": {
        "id": "queryFollow",
        "name": "queryFollow",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_user_follow_b9g5hjw",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true,
                "video_id": true
              },
              "orderBy": [
                {
                  "createdAt": "desc"
                }
              ],
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": []\n   }\n  ]\n },\n \"relateWhere\": {}\n}"
            }
          }
        },
        "listeners": [
          {
            "id": "wq8qpy8nycx",
            "eventName": "success",
            "type": "platform",
            "handler": {
              "name": "callNanoFlow",
              "module": "platform",
              "params": {
                ":data": "$w.queryFollow.data",
                "id": "followFlow"
              }
            },
            "isCapturePhase": false,
            "noPropagation": false
          }
        ]
      },
      "queryLastWatch": {
        "id": "queryLastWatch",
        "name": "queryLastWatch",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_user_watch_hfhc6pa",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true,
                "video_id": true,
                "watch_section_id": true
              },
              "orderBy": [
                {
                  "updatedAt": "desc"
                }
              ],
              "getCount": true,
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": []\n   }\n  ]\n },\n \"relateWhere\": {}\n}",
              ":pageNumber": "params.pageNo || $w.page.dataset.state.lastWatchQueryParams.pageNo",
              ":pageSize": "params.pageSize || $w.page.dataset.state.lastWatchQueryParams.pageSize"
            }
          }
        },
        "listeners": [
          {
            "id": "w1qxj8wjn72",
            "eventName": "success",
            "type": "platform",
            "handler": {
              "name": "callNanoFlow",
              "module": "platform",
              "params": {
                ":data": "$w.queryLastWatch.data",
                "id": "lastWatchFlow"
              }
            },
            "isCapturePhase": false,
            "noPropagation": false
          }
        ]
      }
    },
    "state": {
      "follow": {
        "name": "follow",
        "label": "",
        "varType": "state",
        "dataType": "array",
        "initialValue": []
      },
      "lastWatch": {
        "name": "lastWatch",
        "label": "",
        "varType": "state",
        "dataType": "array",
        "initialValue": []
      },
      "isFollowShow": {
        "name": "isFollowShow",
        "label": "",
        "varType": "state",
        "dataType": "boolean",
        "initialValue": true
      },
      "lastWatchTotal": {
        "name": "lastWatchTotal",
        "label": "",
        "varType": "state",
        "dataType": "number",
        "initialValue": 0
      },
      "lastWatchQueryParams": {
        "name": "lastWatchQueryParams",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {
          "pageNo": 1,
          "pageSize": 200
        }
      }
    }
  },
  "extra": {},
  "listeners": [
    {
      "id": "wpght0ms8io",
      "eventName": "lastWatchFlow.start",
      "type": "rematch",
      "handler": {
        "name": "lastWatchSuccess",
        "module": "follow-series",
        "params": {}
      },
      "isCapturePhase": false,
      "noPropagation": false
    },
    {
      "id": "w8k29gf83ut",
      "eventName": "followFlow.start",
      "type": "rematch",
      "handler": {
        "name": "followSuccess",
        "module": "follow-series",
        "params": {}
      },
      "isCapturePhase": false,
      "noPropagation": false
    }
  ],
  "_ignoreResources": []
}
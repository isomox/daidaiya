[
  {
    "id": "layout_myi4a0pb",
    "label": "layout_myi4a0pb",
    "module": "$template",
    "component": "layout_myi4a0pb",
    "items": [
      {
        "id": "default",
        "component": "",
        "items": [
          {
            "id": "container2",
            "component": "Container",
            "items": [
              {
                "id": "text1",
                "component": "WdText",
                "attributes": {
                  "level": "body-lg",
                  "maxLines": "1",
                  "text": "最近观看",
                  "style": {
                    "paddingLeft": 16,
                    "paddingBottom": 16
                  }
                },
                "directives": {
                  ":if": true
                },
                "extra": {
                  "attributeExtraData": {}
                }
              },
              {
                "id": "listView1",
                "component": "ListView",
                "attributes": {
                  "bindConnectMetadata": {},
                  "connectorMethod": {},
                  ":dataSourceData": "$w.page.dataset.state.lastWatch",
                  "dataSourceType": "expression",
                  "datasource": {
                    "name": "sbbx_6q4zr2h",
                    "type": "datamodal",
                    "extra": {
                      "params": {},
                      "viewId": "view-42gwy3arb4",
                      "methodName": "wedaGetRecords"
                    }
                  },
                  "emptyText": "暂无内容",
                  "enableTotal": false,
                  "exprToFieldsSchema": "41713574",
                  "isSetStatus": true,
                  "isSupportApis": false,
                  "loadCompletedText": "",
                  "orderType": "asc",
                  "pageSize": 3,
                  "pagination": "none",
                  "queryCondition": [],
                  "template": "imageTextList",
                  "style": {
                    "padding": "8PX"
                  }
                },
                "items": [
                  {
                    "id": "repeater2",
                    "component": "Repeater",
                    "attributes": {
                      ":data": "$w.listView1.records",
                      "forIndex": "index_listView1",
                      "forItem": "item_listView1",
                      "key": "_id",
                      "suffix": "listView1"
                    },
                    "items": [
                      {
                        "id": "container5",
                        "component": "Container",
                        "attributes": {
                          "style": {
                            "width": "108px",
                            "margin": "0px 5px 10px",
                            "display": "flex",
                            "overflow": "hidden",
                            "alignItems": "flex-start",
                            "flexDirection": "column",
                            "paddingBottom": "4px"
                          }
                        },
                        "items": [
                          {
                            "id": "image1",
                            "component": "WdImage",
                            "attributes": {
                              "alt": "[图片]",
                              "fit": "cover",
                              ":src": "$w.item_listView1.video_id?.front_pic_addr || 'https://lowcode-4gs26nnz095f6f4d-1307578329.tcloudbaseapp.com/resources/2023-11/lowcode-1498431'",
                              "style": {
                                "width": "100%",
                                "height": "145PX",
                                "borderRadius": "6px"
                              }
                            },
                            "directives": {
                              ":if": true
                            },
                            "extra": {
                              "staticResourceAttribute": [
                                "src"
                              ],
                              "attributeExtraData": {}
                            }
                          },
                          {
                            "id": "text4",
                            "component": "WdText",
                            "attributes": {
                              "level": "body-md",
                              "maxLines": "1",
                              ":text": "$w.item_listView1.video_id?.main_name || '失控的爱失控的爱失控的爱'",
                              "style": {
                                "width": "109px",
                                "marginTop": "6px"
                              },
                              "class": "ellipsis"
                            },
                            "directives": {
                              ":if": true
                            },
                            "extra": {
                              "attributeExtraData": {}
                            }
                          }
                        ],
                        "listeners": [
                          {
                            "id": "wibdhex3n4t",
                            "eventName": "tap",
                            "type": "general-func",
                            "handler": {
                              "name": "iife",
                              "module": "general-func",
                              ":code": "({event}) => {\n  $w.app.common.getPlayerManager().navigateToPlayer({\n    dramaId: $w.item_listView1?.video_id?.drama_id\n  })\n}",
                              "params": {}
                            },
                            "isCapturePhase": false,
                            "noPropagation": false
                          }
                        ],
                        "directives": {
                          ":if": "$w.item_listView1.type !== 'more'"
                        },
                        "extra": {}
                      },
                      {
                        "id": "container3",
                        "component": "Container",
                        "attributes": {
                          "style": {
                            "width": "108px",
                            "margin": "0px 5px 10px",
                            "display": "flex",
                            "overflow": "hidden",
                            "alignItems": "flex-start",
                            "flexDirection": "column",
                            "paddingBottom": "4px"
                          }
                        },
                        "items": [
                          {
                            "id": "button1",
                            "component": "WdButton",
                            "attributes": {
                              "icon": "chevronright",
                              "iconPosition": "after",
                              "iconType": "text-with-icon",
                              "text": "更多",
                              "variant": "text",
                              "style": {
                                "color": "rgb(140, 111, 255)",
                                "width": "100%",
                                "height": "145px",
                                "textAlign": "center",
                                "background": "rgba(140, 111, 255, 0.15)",
                                "lineHeight": "145px",
                                "borderRadius": "6px"
                              }
                            },
                            "directives": {
                              ":if": true
                            },
                            "scopedStyle": ":root .wd-btn .wd-btn__after-icon {\n  margin-left: 0 !important;\n}",
                            "extra": {
                              "staticResourceAttribute": [
                                "sendMessageImg",
                                "iconSrc"
                              ],
                              "attributeExtraData": {}
                            }
                          }
                        ],
                        "listeners": [
                          {
                            "id": "wl4s36lrnxm",
                            "eventName": "tap",
                            "type": "platform",
                            "handler": {
                              "name": "navigateTo",
                              "module": "platform",
                              "params": {
                                "mode": "weDa",
                                "packageName": "",
                                "pageId": "watch-history",
                                "params": {}
                              }
                            },
                            "isCapturePhase": false,
                            "noPropagation": false
                          }
                        ],
                        "directives": {
                          ":if": "$w.item_listView1.type === 'more'"
                        },
                        "extra": {}
                      }
                    ],
                    "directives": {
                      ":if": true
                    },
                    "extra": {
                      "attributeExtraData": {}
                    }
                  }
                ],
                "directives": {
                  ":if": true
                },
                "scopedStyle": ":scope .weda-list-view__content {\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}",
                "extra": {
                  "attributeExtraData": {}
                }
              }
            ],
            "directives": {
              ":if": true
            },
            "extra": {}
          },
          {
            "id": "container4",
            "component": "Container",
            "items": [
              {
                "id": "text5",
                "component": "WdText",
                "attributes": {
                  "level": "body-lg",
                  "maxLines": "1",
                  "text": "我的追剧",
                  "style": {
                    "marginTop": "20px",
                    "paddingLeft": "16px",
                    "paddingBottom": "16px"
                  }
                },
                "directives": {
                  ":if": true
                },
                "extra": {
                  "attributeExtraData": {}
                }
              },
              {
                "id": "listView2",
                "component": "ListView",
                "attributes": {
                  "bindConnectMetadata": {},
                  "connectorMethod": {},
                  ":dataSourceData": "$w.page.dataset.state.follow",
                  "dataSourceType": "expression",
                  "datasource": {
                    "name": "playlet_user_follow_b9g5hjw",
                    "type": "datamodal",
                    "extra": {
                      "params": {},
                      "viewId": "view-4z38wh14jk",
                      "methodName": "wedaGetRecords"
                    }
                  },
                  "emptyText": "暂无内容",
                  "enableTotal": false,
                  "exprToFieldsSchema": "6ef4d7b3",
                  "isSetStatus": true,
                  "isSupportApis": false,
                  "loadCompletedText": "",
                  "orderBy": "createdAt",
                  "orderType": "asc",
                  "pageSize": 5,
                  "pagination": "bottomLoad",
                  ":queryCondition": "[\n {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"user_id\": {\n       \"$eq\": $w.app.dataset.state.videoUserInfo.open_id\n      }\n     }\n    ]\n   }\n  ]\n }\n]",
                  "template": "imageTextList",
                  "style": {
                    "padding": "8PX 16PX"
                  }
                },
                "items": [
                  {
                    "id": "repeater4",
                    "component": "Repeater",
                    "attributes": {
                      ":data": "$w.listView2.records",
                      "forIndex": "index_listView2",
                      "forItem": "item_listView2",
                      "key": "_id",
                      "suffix": "listView2"
                    },
                    "items": [
                      {
                        "id": "container10",
                        "component": "Container",
                        "attributes": {
                          "style": {
                            "width": "100%",
                            "display": "flex",
                            "position": "relative",
                            "boxSizing": "border-box",
                            "paddingBottom": "12px"
                          }
                        },
                        "items": [
                          {
                            "id": "container11",
                            "component": "Container",
                            "attributes": {
                              "style": {
                                "width": "80PX",
                                "height": "100%",
                                "margin": "0px 24 0px 0px",
                                "overflow": "hidden",
                                "position": "relative",
                                "borderRadius": "4px"
                              }
                            },
                            "items": [
                              {
                                "id": "image2",
                                "component": "WdImage",
                                "attributes": {
                                  "alt": "[图片]",
                                  "fit": "cover",
                                  ":src": "$w.item_listView2.video_id?.front_pic_addr || 'https://lowcode-4gs26nnz095f6f4d-1307578329.tcloudbaseapp.com/resources/2023-11/lowcode-1498431'",
                                  "style": {
                                    "width": "87px",
                                    "height": "116px",
                                    "borderRadius": "6px"
                                  }
                                },
                                "directives": {
                                  ":if": true
                                },
                                "extra": {
                                  "attributeExtraData": {}
                                }
                              }
                            ],
                            "listeners": [
                              {
                                "id": "w7qljoo1coj",
                                "eventName": "tap",
                                "type": "general-func",
                                "handler": {
                                  "name": "iife",
                                  "module": "general-func",
                                  ":code": "({event}) => {\n  $w.app.common.getPlayerManager().navigateToPlayer({\n    dramaId: $w.item_listView2.video_id.drama_id\n  })\n}",
                                  "params": {}
                                },
                                "isCapturePhase": false,
                                "noPropagation": false
                              }
                            ],
                            "directives": {
                              ":if": true
                            },
                            "extra": {}
                          },
                          {
                            "id": "container12",
                            "component": "Container",
                            "attributes": {
                              "style": {
                                "gap": "4PX",
                                "flex": 1,
                                "display": "flex",
                                "padding": "10px 0px",
                                "wordBreak": "break-all",
                                "alignItems": "flex-start",
                                "flexDirection": "column",
                                "justifyContent": "center"
                              }
                            },
                            "items": [
                              {
                                "id": "text8",
                                "component": "WdText",
                                "attributes": {
                                  "level": "title-8",
                                  "maxLines": "1",
                                  ":text": "$w.item_listView2.video_id?.main_name || '失控的爱'",
                                  "style": {
                                    "color": "var(--wd-color-text-default)",
                                    "width": "146PX",
                                    "marginBottom": "8px"
                                  },
                                  "class": "ellipsis"
                                },
                                "directives": {
                                  ":if": true
                                },
                                "extra": {
                                  "attributeExtraData": {}
                                }
                              },
                              {
                                "id": "container6",
                                "component": "Container",
                                "attributes": {
                                  "style": {
                                    "display": "flex",
                                    "alignItems": "center"
                                  }
                                },
                                "items": [
                                  {
                                    "id": "icon1",
                                    "component": "WdIcon",
                                    "attributes": {
                                      "name": "td:video",
                                      "style": {
                                        "color": "#97A3B7",
                                        "fontSize": "16px",
                                        "marginRight": 4
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "staticResourceAttribute": [
                                        "src"
                                      ],
                                      "attributeExtraData": {}
                                    }
                                  },
                                  {
                                    "id": "text9",
                                    "component": "WdText",
                                    "attributes": {
                                      "level": "body-md",
                                      "maxLines": "2",
                                      "overflow": true,
                                      "text": "观看至",
                                      "style": {
                                        "color": "rgb(0, 0, 0)",
                                        "marginRight": 4
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "attributeExtraData": {}
                                    }
                                  },
                                  {
                                    "id": "text3",
                                    "component": "WdText",
                                    "attributes": {
                                      "level": "body-md",
                                      "maxLines": "2",
                                      "overflow": true,
                                      ":text": "`第 ${$w.queryLastWatch.data?.records?.find(v => v.video_id?._id === $w.item_listView2.video_id?._id)?.watch_section_id?.series_number || '-'} 集`",
                                      "style": {
                                        "color": "var(--wd-color-error)"
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "attributeExtraData": {}
                                    }
                                  }
                                ],
                                "directives": {
                                  ":if": true
                                },
                                "extra": {}
                              },
                              {
                                "id": "container7",
                                "component": "Container",
                                "attributes": {
                                  "style": {
                                    "display": "flex",
                                    "alignItems": "center"
                                  }
                                },
                                "items": [
                                  {
                                    "id": "icon3",
                                    "component": "WdIcon",
                                    "attributes": {
                                      "name": "td:refresh",
                                      "style": {
                                        "color": "#97A3B7",
                                        "fontSize": "16px",
                                        "marginRight": 4
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "staticResourceAttribute": [
                                        "src"
                                      ],
                                      "attributeExtraData": {}
                                    }
                                  },
                                  {
                                    "id": "text6",
                                    "component": "WdText",
                                    "attributes": {
                                      "level": "body-md",
                                      "maxLines": "2",
                                      "overflow": true,
                                      ":text": "$w.item_listView2.video_id?.status === '1' ? '更新至' :'已完结'",
                                      "style": {
                                        "color": "rgb(151, 163, 183)",
                                        "marginRight": 4
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "attributeExtraData": {}
                                    }
                                  },
                                  {
                                    "id": "text7",
                                    "component": "WdText",
                                    "attributes": {
                                      "level": "body-md",
                                      "maxLines": "2",
                                      "overflow": true,
                                      ":text": "`${$w.item_listView2.video_id?.status === '1' ? '第' : '共'} ${$w.item_listView2.video_id?.renew_count || '-'} 集`",
                                      "style": {
                                        "color": "rgba(0, 0, 0, 0.90)"
                                      }
                                    },
                                    "directives": {
                                      ":if": true
                                    },
                                    "extra": {
                                      "attributeExtraData": {}
                                    }
                                  }
                                ],
                                "directives": {
                                  ":if": true
                                },
                                "extra": {}
                              }
                            ],
                            "listeners": [
                              {
                                "id": "wxxqrog15c0",
                                "eventName": "tap",
                                "type": "general-func",
                                "handler": {
                                  "name": "iife",
                                  "module": "general-func",
                                  ":code": "({event}) => {\n  $w.app.common.getPlayerManager().navigateToPlayer({\n    dramaId: $w.item_listView2.video_id.drama_id\n  })\n}",
                                  "params": {}
                                },
                                "isCapturePhase": false,
                                "noPropagation": false
                              }
                            ],
                            "directives": {
                              ":if": true
                            },
                            "extra": {}
                          },
                          {
                            "id": "container13",
                            "component": "Container",
                            "attributes": {
                              "style": {
                                "color": "black",
                                "width": "24PX",
                                "height": "24PX",
                                "margin": "auto 0PX auto 16PX",
                                "display": "flex",
                                "opacity": 0.9,
                                "alignItems": "center",
                                "justifyContent": "center"
                              }
                            },
                            "items": [
                              {
                                "id": "icon4",
                                "component": "WdIcon",
                                "attributes": {
                                  "name": "more",
                                  "size": "xs",
                                  "sizeSelfAdaptive": true,
                                  "style": {
                                    "color": "#97A3B7",
                                    "marginRight": 30
                                  }
                                },
                                "listeners": [
                                  {
                                    "id": "wo19lftsxto",
                                    "eventName": "tap",
                                    "type": "platform",
                                    "handler": {
                                      "name": "showModal",
                                      "module": "platform",
                                      "params": {
                                        "cancelColor": "#000000",
                                        "cancelText": "取消",
                                        "confirmColor": "#576B95",
                                        "confirmText": "确认",
                                        "content": "是否移除该追剧",
                                        "showCancel": true,
                                        "title": ""
                                      }
                                    },
                                    "isCapturePhase": false,
                                    "noPropagation": false
                                  },
                                  {
                                    "id": "woi8d5uiuwf",
                                    "eventName": "wo19lftsxto.confirm",
                                    "type": "platform",
                                    "handler": {
                                      "name": "cloud.callDataSource",
                                      "module": "platform",
                                      "params": {
                                        "dataSourceName": "playlet_user_follow_b9g5hjw",
                                        "methodName": "wedaDeleteV2",
                                        "options": {
                                          "showToast": false,
                                          "showLoading": true
                                        },
                                        "outputs": {},
                                        "params": {
                                          "select": {
                                            "$master": true
                                          },
                                          ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"_id\": {\n       \"$eq\": $w.item_listView2._id\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n}"
                                        }
                                      }
                                    },
                                    "isCapturePhase": false,
                                    "noPropagation": false
                                  },
                                  {
                                    "id": "w4jcdd8d4r4",
                                    "eventName": "woi8d5uiuwf.success",
                                    "type": "rematch",
                                    "handler": {
                                      "name": "followSuccess",
                                      "module": "follow-series",
                                      "params": {
                                        ":target": "({type: 'delete', index: $w.index_listView2})"
                                      }
                                    },
                                    "isCapturePhase": false,
                                    "noPropagation": false
                                  }
                                ],
                                "directives": {
                                  ":if": true
                                },
                                "extra": {
                                  "staticResourceAttribute": [
                                    "src"
                                  ],
                                  "attributeExtraData": {}
                                }
                              }
                            ],
                            "directives": {
                              ":if": true
                            },
                            "extra": {}
                          }
                        ],
                        "directives": {
                          ":if": true
                        },
                        "extra": {}
                      }
                    ],
                    "directives": {
                      ":if": true
                    },
                    "extra": {
                      "attributeExtraData": {}
                    }
                  }
                ],
                "directives": {
                  ":if": true
                },
                "scopedStyle": ":scope .weda-list-view__content {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n:scope.weda-list-view__containor-empty {\n  height: 200px;\n  overflow: hidden;\n}\n\n:scope .weda-list-view__empty {\n  height: 200px;\n}",
                "extra": {
                  "attributeExtraData": {}
                }
              }
            ],
            "directives": {
              ":if": true
            },
            "extra": {}
          },
          {
            "id": "container1",
            "component": "Container",
            "attributes": {
              "style": {
                "margin": "60px 16px 32px",
                "display": "flex",
                "padding": "8px 24px 8px 117px",
                "position": "relative",
                "alignItems": "center",
                "background": "linear-gradient(90deg, rgb(157, 111, 255) -27.52%, rgb(183, 158, 255) 100%)",
                "borderRadius": "28px",
                "justifyContent": "space-between"
              }
            },
            "items": [
              {
                "id": "image3",
                "component": "WdImage",
                "attributes": {
                  "alt": "[图片]",
                  "fit": "widthFix",
                  "src": "/resources/2023-12/lowcode-1500458",
                  "style": {
                    "left": "0px",
                    "width": "101px",
                    "bottom": "0px",
                    "height": "86px",
                    "position": "absolute"
                  }
                },
                "directives": {
                  ":if": true
                },
                "extra": {
                  "staticResourceAttribute": [
                    "src"
                  ],
                  "attributeExtraData": {}
                }
              },
              {
                "id": "container8",
                "component": "Container",
                "attributes": {
                  "style": {
                    "flex": 1
                  }
                },
                "items": [
                  {
                    "id": "text10",
                    "component": "WdText",
                    "attributes": {
                      "maxLines": "1",
                      ":text": "$w.globalCfg.data?.records?.[0]?.catch_follow_comment || '关注短剧公众号'",
                      "style": {
                        "color": "rgba(255, 255, 255, 0.90)"
                      }
                    },
                    "directives": {
                      ":if": true
                    },
                    "extra": {
                      "attributeExtraData": {}
                    }
                  },
                  {
                    "id": "text11",
                    "component": "WdText",
                    "attributes": {
                      "level": "body-lg",
                      "maxLines": "1",
                      "text": "获取更新通知～",
                      "style": {
                        "color": "rgba(255, 255, 255, 0.9)",
                        "fontWeight": "500"
                      }
                    },
                    "directives": {
                      ":if": true
                    },
                    "extra": {
                      "attributeExtraData": {}
                    }
                  }
                ],
                "directives": {
                  ":if": true
                },
                "extra": {}
              },
              {
                "id": "icon5",
                "component": "WdIcon",
                "attributes": {
                  "name": "td:close",
                  "style": {
                    "color": "rgba(255, 255, 255, 0.90)"
                  }
                },
                "listeners": [
                  {
                    "id": "w7osn8qdviz",
                    "eventName": "tap",
                    "type": "platform",
                    "handler": {
                      "name": "_setStateVal",
                      "module": "platform",
                      "params": {
                        ":val": "false",
                        "varPath": "$page.isFollowShow"
                      }
                    },
                    "isCapturePhase": false,
                    "noPropagation": false
                  }
                ],
                "directives": {
                  ":if": true
                },
                "extra": {
                  "staticResourceAttribute": [
                    "src"
                  ],
                  "attributeExtraData": {}
                }
              }
            ],
            "listeners": [
              {
                "id": "w8r6qqjfcul",
                "eventName": "tap",
                "type": "platform",
                "handler": {
                  "name": "navigateTo",
                  "module": "platform",
                  "params": {
                    "mode": "weDa",
                    "packageName": "",
                    "pageId": "official-account",
                    "params": {}
                  }
                },
                "isCapturePhase": false,
                "noPropagation": false
              }
            ],
            "directives": {
              ":if": "$w.globalCfg.data?.records?.[0]?.catch_follow_switch"
            },
            "extra": {}
          }
        ],
        "directives": {
          ":if": true
        },
        "extra": {}
      }
    ],
    "directives": {
      ":if": true
    },
    "extra": {}
  }
]
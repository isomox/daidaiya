{
  "attributes": {
    "appShareMessage": {
      "title": "欢迎来到小剧场",
      "enable": true,
      "pageId": "index",
      "imageUrl": "",
      "packageName": "",
      ":params": "[\n        {\n          \"key\": \"inviteId\",\n          \"value\": $w.app.dataset.state.videoUserInfo?._id\n        }\n      ]"
    },
    "backgroundColor": "#ffffff",
    "backgroundColorBottom": "#ffffff",
    "backgroundColorTop": "#ffffff",
    "backgroundTextStyle": "dark",
    "enablePullDownRefresh": false,
    "namespace": "index",
    "navigationBarBackgroundColor": "#ffffff",
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "小剧场",
    "navigationStyle": "custom",
    "pageOrientation": "portrait",
    "reachBottomDistance": 50,
    "src": "",
    "title": "小剧场"
  },
  "dataset": {
    "query": {
      "queryMenu": {
        "id": "queryMenu",
        "name": "queryMenu",
        "type": "model",
        "trigger": "auto",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_navigation_config_ham4pxv",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true
              },
              "orderBy": [
                {
                  "sort": "desc"
                }
              ],
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"type\": {\n       \"$eq\": \"2\"\n      }\n     },\n     {\n      \"status\": {\n       \"$eq\": true\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n}"
            }
          }
        },
        "listeners": []
      },
      "queryVideo": {
        "id": "queryVideo",
        "name": "queryVideo",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "laylet_video_lyoj260",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true
              },
              "orderBy": [
                {
                  "sort": "desc"
                }
              ],
              "getCount": true,
              ":pageNumber": "params.pageNo || $w.page.dataset.state.queryVideoParams.pageNo",
              ":pageSize": "params.pageSize || $w.page.dataset.state.queryVideoParams.pageSize"
            }
          }
        },
        "listeners": [
          {
            "id": "wqa8ha73lkn",
            "eventName": "success",
            "type": "platform",
            "handler": {
              "name": "callNanoFlow",
              "module": "platform",
              "params": {
                ":data": "$w.queryVideo.data",
                "id": "queryVideoFlow"
              }
            },
            "isCapturePhase": false,
            "noPropagation": false
          }
        ]
      },
      "querySwiper": {
        "id": "querySwiper",
        "name": "querySwiper",
        "type": "model",
        "trigger": "auto",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_index_carousel_vdfe3y3",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true,
                "video_id": true
              }
            }
          }
        },
        "listeners": []
      },
      "queryLastWatch": {
        "id": "queryLastWatch",
        "name": "queryLastWatch",
        "type": "model",
        "trigger": "auto",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_user_watch_hfhc6pa",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true,
                "video_id": true,
                "watch_section_id": true
              },
              "orderBy": [
                {
                  "updatedAt": "desc"
                }
              ],
              "pageSize": 1,
              "pageNumber": 1
            }
          }
        },
        "listeners": []
      }
    },
    "state": {
      "videTotal": {
        "name": "videTotal",
        "label": "",
        "varType": "state",
        "dataType": "number",
        "initialValue": 0
      },
      "videoList": {
        "name": "videoList",
        "label": "",
        "varType": "state",
        "dataType": "array",
        "initialValue": []
      },
      "isPageScroll": {
        "name": "isPageScroll",
        "label": "",
        "varType": "state",
        "dataType": "boolean",
        "initialValue": false
      },
      "topFloatHide": {
        "name": "topFloatHide",
        "label": "",
        "varType": "state",
        "dataType": "boolean",
        "initialValue": true
      },
      "queryVideoParams": {
        "name": "queryVideoParams",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {
          "pageNo": 1,
          "pageSize": 5
        }
      }
    },
    "params": {
      "inviteId": {
        "name": "inviteId",
        "varType": "params",
        "required": false
      }
    }
  },
  "extra": {},
  "listeners": [
    {
      "id": "wkyhst8poup",
      "eventName": "queryVideoFlow.start",
      "type": "rematch",
      "handler": {
        "name": "queryVideoSucess",
        "module": "index",
        "params": {}
      },
      "isCapturePhase": false,
      "noPropagation": false
    }
  ],
  "_ignoreResources": []
}
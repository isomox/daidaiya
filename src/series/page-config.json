{
  "attributes": {
    "appShareMessage": {
      "title": "",
      "enable": true,
      "pageId": "series",
      "imageUrl": "",
      "packageName": "",
      ":params": "({\n  inviteId: $w.app.dataset.state.videoUserInfo?._id\n})"
    },
    "backgroundColor": "#ffffff",
    "backgroundColorBottom": "#ffffff",
    "backgroundColorTop": "#ffffff",
    "backgroundTextStyle": "dark",
    "enablePullDownRefresh": false,
    "namespace": "剧集详情",
    "navigationBarBackgroundColor": "#ffffff",
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "剧集详情",
    "navigationStyle": "custom",
    "pageOrientation": "portrait",
    "reachBottomDistance": 50,
    "src": "",
    "title": "剧集详情",
    "style": {
      "height": "100vh",
      "background": "rgb(0, 0, 0)"
    }
  },
  "dataset": {
    "query": {
      "queryVideo": {
        "id": "queryVideo",
        "name": "queryVideo",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_section_u2l0sqa",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true,
                "video_id": true,
                "section_user_like_id": true
              },
              "orderBy": [
                {
                  "series_number": "asc"
                }
              ],
              "pageNumber": 1,
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"video_id\": {\n       \"$eq\": $w.page.dataset.params.id\n      }\n     }\n    ]\n   },\n   {\n    \"$or\": [\n     {\n      \"series_number\": {\n       \"$gt\": 0\n      }\n     },\n     {\n      \"series_number\": {\n       \"$lt\": +$w.queryVideoDetail.data?.renew_count || 10\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n}",
              ":pageSize": "params.pageSize || $w.queryVideoDetail.data.renew_count || 10"
            }
          }
        },
        "listeners": [
          {
            "id": "wn6a2ao2wa5",
            "eventName": "success",
            "type": "platform",
            "handler": {
              "name": "callNanoFlow",
              "module": "platform",
              "params": {
                ":data": "$w.queryVideo.data",
                "id": "queryVideoFlow"
              }
            },
            "isCapturePhase": false,
            "noPropagation": false
          }
        ]
      },
      "queryFollow": {
        "id": "queryFollow",
        "name": "queryFollow",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_user_follow_b9g5hjw",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true
              },
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"video_id\": {\n       \"$eq\": $w.page.dataset.params.id\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n}"
            }
          }
        },
        "listeners": []
      },
      "queryBalance": {
        "id": "queryBalance",
        "name": "queryBalance",
        "type": "model",
        "trigger": "auto",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_user_account_rp01onh",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true
              }
            }
          }
        },
        "listeners": []
      },
      "queryPaySection": {
        "id": "queryPaySection",
        "name": "queryPaySection",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "playlet_golden_bean_record_r9b4yhz",
            "methodName": "wedaGetRecordsV2",
            "params": {
              "select": {
                "$master": true
              },
              "pageNumber": 1,
              ":filter": "({\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"video_id\": {\n       \"$eq\": $w.queryVideoDetail.data._id\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n})",
              ":pageSize": "$w.queryVideoDetail.data.renew_count || 100"
            }
          }
        },
        "listeners": []
      },
      "queryVideoDetail": {
        "id": "queryVideoDetail",
        "name": "queryVideoDetail",
        "type": "model",
        "trigger": "manual",
        "description": "",
        "handler": {
          "module": "platform",
          "name": "cloud.callDataSource",
          "params": {
            "dataSourceName": "laylet_video_lyoj260",
            "methodName": "wedaGetItemV2",
            "params": {
              "select": {
                "$master": true,
                "video_follow_id": true
              },
              ":filter": "{\n \"where\": {\n  \"$and\": [\n   {\n    \"$and\": [\n     {\n      \"_id\": {\n       \"$eq\": $w.page.dataset.params.id\n      }\n     }\n    ]\n   }\n  ]\n },\n \"relateWhere\": {}\n}"
            }
          }
        },
        "listeners": []
      }
    },
    "state": {
      "modalInfo": {
        "name": "modalInfo",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {
          "all": 0,
          "desc": "更新至-集",
          "title": "-"
        }
      },
      "rateTimer": {
        "name": "rateTimer",
        "label": "",
        "varType": "state",
        "dataType": "number",
        "initialValue": 0
      },
      "touchInfo": {
        "name": "touchInfo",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {}
      },
      "videoList": {
        "name": "videoList",
        "label": "",
        "varType": "state",
        "dataType": "array",
        "initialValue": []
      },
      "retryTimer": {
        "name": "retryTimer",
        "label": "",
        "varType": "state",
        "dataType": "number",
        "initialValue": 0
      },
      "isNoBalance": {
        "name": "isNoBalance",
        "label": "",
        "varType": "state",
        "dataType": "boolean",
        "initialValue": false
      },
      "lastCurrent": {
        "name": "lastCurrent",
        "label": "",
        "varType": "state",
        "dataType": "number",
        "initialValue": 0
      },
      "operateCache": {
        "name": "operateCache",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {}
      },
      "videoListShow": {
        "name": "videoListShow",
        "label": "",
        "varType": "state",
        "dataType": "object",
        "initialValue": {}
      },
      "seriesFloatHide": {
        "name": "seriesFloatHide",
        "label": "",
        "varType": "state",
        "dataType": "boolean",
        "initialValue": true
      }
    },
    "params": {
      "id": {
        "name": "id",
        "varType": "params"
      },
      "current_count": {
        "name": "current_count",
        "varType": "params"
      }
    }
  },
  "extra": {},
  "listeners": [
    {
      "id": "w6m8x6auw3v",
      "eventName": "queryVideoFlow.start",
      "type": "rematch",
      "handler": {
        "name": "queryVideoSuccess",
        "module": "series",
        "params": {}
      },
      "isCapturePhase": false,
      "noPropagation": false
    }
  ],
  "_ignoreResources": []
}